<script language="javascript">
  $(document).ready(function(){
    //添加表单验证
    $("#yform").validate();
  });
</script>
<div id="main_side">
  <%= error_messages_for :user %>
  <% form_for @user,:html=>{:id=>"yform",:class=>'yform'} do |f| -%>
  <%= f.hidden_field :login %><%= f.hidden_field :email%>
  <h3>你好，<%=@user.login%></h3>
  <p>你使用的邮箱是: <%=@user.email%></p>
  <hr/>
  <p>设定新密码.</p>
    <p><label for="password">新密码：</label>
      <%= f.password_field :password,:class=>"{required:true,minlength:5}" %></p>
    <p><label for="password_confirmation">密码确认：</label>
      <%= f.password_field :password_confirmation ,:class=>"{required:true,minlength:5,equalTo:'#user_password'}"%></p>

    <p><%= submit_tag '好了，提交！' %></p>
  <% end -%>
</div>